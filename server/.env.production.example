# ==============================================================
# AI Meeting Copilot — Server
# Copy this file to .env.production for production deployment
#
# SECURITY CHECKLIST before going live:
#   [ ] JWT_SECRET        — replace placeholder with a unique 64-char hex value
#   [ ] ENCRYPTION_SECRET — replace placeholder with a unique 64-char hex value
#   [ ] DB_PASSWORD       — replace with a strong, unique password
#   [ ] FRONTEND_URL      — set to your real frontend domain
#   [ ] DATABASE_URL      — update if using a custom host/user
# ==============================================================

# ── Server ───────────────────────────────────────────────────
PORT=4000
NODE_ENV=production
FRONTEND_URL=https://your-frontend-domain.com

# ── Security ─────────────────────────────────────────────────
# CRITICAL: Replace all placeholders with unique generated values.
# Generate with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=REPLACE_WITH_UNIQUE_64_CHAR_HEX_VALUE
ENCRYPTION_SECRET=REPLACE_WITH_UNIQUE_64_CHAR_HEX_VALUE

# ── Database (PostgreSQL) ─────────────────────────────────────
DB_PASSWORD=REPLACE_WITH_STRONG_DATABASE_PASSWORD
DATABASE_URL="postgresql://postgres:REPLACE_WITH_STRONG_DATABASE_PASSWORD@db:5432/meeting_copilot"

# ── AI Provider ──────────────────────────────────────────────
# gemini → Recommended for production (lower cost, 1M context, 100 MB files)
# openai → Alternative (GPT-4o-mini + Whisper)
#
# IMPORTANT: Do NOT set GEMINI_API_KEY or OPENAI_API_KEY here.
# Each user saves their own key via the Settings page.
# The server encrypts and stores it with AES-256-GCM (ENCRYPTION_SECRET).
AI_PROVIDER=gemini

# ── Transcription Provider ───────────────────────────────────
# Must align with AI_PROVIDER:
#   gemini → gemini   (same key, single provider)
#   openai → whisper  (uses the user's OpenAI key)
TRANSCRIBE_PROVIDER=gemini

# ── Optional ─────────────────────────────────────────────────
# LOG_LEVEL=info
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW_MS=900000
